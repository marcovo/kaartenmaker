<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Kaartenmaker</title>
    <script src="dist/bundle.js"></script>
    <link rel="stylesheet" href="dist/bundle.css" />
</head>
<body>
    <!-- First make sure that no margin-top is pushing our body down -->
    <div style="width: 0; height: 0;">&nbsp;</div>

    <!-- We don't want to use position: absolute; as it does not play well with z-index <-> bootstrap components. Hence we use some trickery -->
    <div class="float-left">
        <div class="d-flex flex-column justify-content-end position-relative vh-100" style="width: 0; z-index: 2;">
            <div class="d-flex justify-content-center vw-100" style="height: 0;">
                <div style="transform: rotate(180deg);">
                    <div style="transform: rotate(180deg);">
                        <div id="coordinatePanelWrapper">
                            <coordinate-panel
                                    v-bind:user-interface="userInterface"
                                    v-bind:leaflet-convertible-coordinate-system="leafletConvertibleCoordinateSystem"
                            ></coordinate-panel>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="mapContainer">
        <div id="map-canvas"></div>

        <div id="usageNote">
            Deze applicatie gebruikt vrije data-bronnen. Gebruik deze verantwoord en voorkom onrechtmatig gebruik.
        </div>
    </div>

    <div class="control-panes">
        <div class="control-pane control-pane-general-tools">
            <div id="generalTools" class="control-pane-content">
                <div class="btn-toolbar justify-content-around" role="toolbar">
                    <div id="cutoutTemplatesWrapper">
                        <cutout-templates
                                v-bind:user-interface="userInterface"
                                v-bind:new-cutout-template="newCutoutTemplate"
                        ></cutout-templates>
                    </div>

                    <div class="btn-group mr-1" id="actionHistoryButtons">
                        <button type="button" class="btn btn-sm btn-outline-primary" v-on:click="undo" v-bind:disabled="!actionHistory.canUndo()">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-arrow-counterclockwise" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>
                                <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>
                            </svg>
                        </button>
                        <button type="button" class="btn btn-sm btn-outline-primary" v-on:click="redo" v-bind:disabled="!actionHistory.canRedo()">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-arrow-clockwise" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
                                <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
                            </svg>
                        </button>
                    </div>

                    <div class="btn-group mr-1">
                        <button type="button" class="btn btn-sm btn-outline-primary" id="printAllButton">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-printer" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M11 2H5a1 1 0 0 0-1 1v2H3V3a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2h-1V3a1 1 0 0 0-1-1zm3 4H2a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h1v1H2a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1z"/>
                                <path fill-rule="evenodd" d="M11 9H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zM5 8a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H5z"/>
                                <path d="M3 7.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
                            </svg>
                        </button>
                        <button type="button" class="btn btn-sm btn-outline-primary" id="shareButton">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-share-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"/>
                            </svg>
                        </button>
                    </div>

                    <div id="bookmarksWrapper">
                        <bookmarks v-bind:bookmarks="bookmarks"></bookmarks>
                    </div>

                    <div class="dropdown">
                        <button class="btn btn-sm btn-outline-primary" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-three-dots-vertical" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                            </svg>
                            <span class="sr-only">Toggle Dropdown</span>
                        </button>
                        <div class="dropdown-menu">
                            <button type="button" class="dropdown-item" data-toggle="modal" data-target="#infoModal">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-info-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"/>
                                    <circle cx="8" cy="4.5" r="1"/>
                                </svg>
                                Over
                            </button>
                            <a class="dropdown-item" href="https://github.com/marcovo" target="_blank">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-code-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                    <path fill-rule="evenodd" d="M6.854 4.646a.5.5 0 0 1 0 .708L4.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0zm2.292 0a.5.5 0 0 0 0 .708L11.793 8l-2.647 2.646a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708 0z"/>
                                </svg>
                                Broncode
                            </a>
                            <button type="button" class="dropdown-item text-warning" id="clearCacheButton">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-x-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                </svg>
                                Buffers legen
                            </button>
                            <button type="button" class="dropdown-item text-warning" id="resetStorageButton">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-x-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                </svg>
                                Voorkeuren wissen
                            </button>
                            <button type="button" class="dropdown-item text-danger" id="resetApplicationButton">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-x-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                </svg>
                                Reset applicatie
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="control-pane control-pane-cutout-list" id="cutoutListPane">
            <div id="cutoutListMinimized" class="control-pane-content">
                <button class="btn btn-sm btn-control" id="cutoutListMaximizer">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-box-arrow-down-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M8.636 12.5a.5.5 0 0 1-.5.5H1.5A1.5 1.5 0 0 1 0 11.5v-10A1.5 1.5 0 0 1 1.5 0h10A1.5 1.5 0 0 1 13 1.5v6.636a.5.5 0 0 1-1 0V1.5a.5.5 0 0 0-.5-.5h-10a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h6.636a.5.5 0 0 1 .5.5z"/>
                        <path fill-rule="evenodd" d="M16 15.5a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1 0-1h3.793L6.146 6.854a.5.5 0 1 1 .708-.708L15 14.293V10.5a.5.5 0 0 1 1 0v5z"/>
                    </svg>
                </button>
            </div>
            <div id="cutoutList" class="control-pane-content">
                <div id="cutoutListMinimizer"></div>
                <div
                        v-for="cutout in cutouts"
                        v-bind:class="'cutout mb-2' + (cutout.visibleOnMap ? '' : ' cutout-hidden')"
                        v-bind:style="{ borderTop: '2px solid', borderColor: cutout.color }"
                        v-bind:id="'cutout_' + cutout.id"
                        v-on:mouseenter="mouseover(cutout)"
                        v-on:mouseleave="mouseout(cutout)"
                        :key="cutout.id"
                >
                    <div class="d-flex">
                        <div style="width: 12px;">
                            <div v-bind:style="{ border: '6px solid', borderColor: cutout.color + ' transparent transparent ' + cutout.color }"></div>
                        </div>
                        <div class="flex-grow-1">
                            <div class="text-md text-black">{{ cutout.name }}</div>
                        </div>
                        <div>
                            <div class="lds-dual-ring lds-dual-ring-hidden" v-bind:id="'cutout_' + cutout.id + '_loading'">
                                <div><div v-bind:id="'cutout_' + cutout.id + '_loading_progress'"></div></div>
                            </div>
                        </div>
                        <div>
                            <div class="btn-group">
                                <button class="btn btn-sm btn-control border-top-0" style="border-top-left-radius: 0;" v-on:click="toggleHidden(cutout)">
                                    <svg v-if="cutout.visibleOnMap" width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-eye" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                                        <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                                    </svg>
                                    <svg v-if="!cutout.visibleOnMap" width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-eye-slash" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
                                        <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299l.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
                                        <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884l-12-12 .708-.708 12 12-.708.708z"/>
                                    </svg>
                                </button>
                                <button class="btn btn-sm btn-control border-top-0" v-bind:id="'cutout_' + cutout.id + '_settings'">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-sliders" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"/>
                                    </svg>
                                </button>
                                <button class="btn btn-sm btn-control border-top-0" v-on:click="print(cutout)">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-printer" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M11 2H5a1 1 0 0 0-1 1v2H3V3a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2h-1V3a1 1 0 0 0-1-1zm3 4H2a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h1v1H2a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1z"/>
                                        <path fill-rule="evenodd" d="M11 9H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zM5 8a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H5z"/>
                                        <path d="M3 7.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
                                    </svg>
                                </button>
                                <div class="dropdown-menu">
                                    <button class="dropdown-item" type="button" v-on:click="duplicateCutout(cutout)">
                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-files" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4z"/>
                                            <path d="M6 0h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2v-1a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1H4a2 2 0 0 1 2-2z"/>
                                        </svg>
                                        Dupliceer
                                    </button>
                                    <button class="dropdown-item" type="button" v-on:click="makeCutoutTemplate(cutout)">
                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-file-earmark-play" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M6 6.883v4.234a.5.5 0 0 0 .757.429l3.528-2.117a.5.5 0 0 0 0-.858L6.757 6.454a.5.5 0 0 0-.757.43z"/>
                                            <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>
                                        </svg>
                                        Maak sjabloon
                                    </button>
                                    <button class="dropdown-item" type="button" v-on:click="shareCutout(cutout)">
                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-share-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"/>
                                        </svg>
                                        Deel
                                    </button>
                                    <button class="dropdown-item" type="button" v-on:click="downloadLegend(cutout)">
                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-card-list" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M14.5 3h-13a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
                                            <path fill-rule="evenodd" d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5z"/>
                                            <circle cx="3.5" cy="5.5" r=".5"/>
                                            <circle cx="3.5" cy="8" r=".5"/>
                                            <circle cx="3.5" cy="10.5" r=".5"/>
                                        </svg>
                                        Legenda
                                    </button>
                                    <button class="dropdown-item" type="button" v-on:click="deleteCutout(cutout)">
                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-trash-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"/>
                                        </svg>
                                        Verwijder
                                    </button>
                                </div>
                                <button class="btn btn-sm btn-control border-top-0" style="border-top-right-radius: 0;" data-toggle="dropdown" data-boundary="viewport" aria-haspopup="true" aria-expanded="false">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-three-dots-vertical" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                                    </svg>
                                    <span class="sr-only">Toggle Dropdown</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <cutout-settings-modal
                            v-bind:listen-id="'cutout_' + cutout.id + '_settings'"
                            v-bind:cutout="cutout"
                    ></cutout-settings-modal>
                </div>
            </div>
        </div>
    </div>

    <div class="dropdown" id="cutoutDropdownMenu">
        <button class="d-none" type="button" id="cutoutDropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Dropdown button
        </button>
        <div class="dropdown-menu">
            <h6 class="dropdown-header">{{ cutout?.name }}</h6>
            <div class="dropdown-divider"></div>
            <button class="dropdown-item" v-on:click="settings(cutout)">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-sliders" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"/>
                </svg>
                Instellingen
            </button>
            <button class="dropdown-item" v-on:click="print(cutout)">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-printer" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11 2H5a1 1 0 0 0-1 1v2H3V3a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2h-1V3a1 1 0 0 0-1-1zm3 4H2a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h1v1H2a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1z"/>
                    <path fill-rule="evenodd" d="M11 9H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zM5 8a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H5z"/>
                    <path d="M3 7.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
                </svg>
                Download
            </button>
            <button class="dropdown-item" type="button" v-on:click="duplicateCutout(cutout)">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-files" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M4 2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4z"/>
                    <path d="M6 0h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2v-1a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1H4a2 2 0 0 1 2-2z"/>
                </svg>
                Dupliceer
            </button>
            <button class="dropdown-item" type="button" v-on:click="makeCutoutTemplate(cutout)">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-file-earmark-play" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6 6.883v4.234a.5.5 0 0 0 .757.429l3.528-2.117a.5.5 0 0 0 0-.858L6.757 6.454a.5.5 0 0 0-.757.43z"/>
                    <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>
                </svg>
                Maak sjabloon
            </button>
            <button class="dropdown-item" type="button" v-on:click="shareCutout(cutout)">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-share-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"/>
                </svg>
                Deel
            </button>
            <button class="dropdown-item" type="button" v-on:click="downloadLegend(cutout)">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-card-list" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M14.5 3h-13a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
                    <path fill-rule="evenodd" d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5z"/>
                    <circle cx="3.5" cy="5.5" r=".5"/>
                    <circle cx="3.5" cy="8" r=".5"/>
                    <circle cx="3.5" cy="10.5" r=".5"/>
                </svg>
                Legenda
            </button>
            <button class="dropdown-item" type="button" v-on:click="deleteCutout(cutout)">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="align-baseline bi bi-trash-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"/>
                </svg>
                Verwijder
            </button>
        </div>
    </div>

    <div id="mainLoadingIndicator">
        <div class="d-flex justify-content-center vh-100">
            <div class="d-flex flex-column justify-content-center">
                <div class="lds-dual-ring"></div>
            </div>
        </div>
    </div>

    <div
            id="shareUrlModal"
            class="modal"
            tabindex="-1"
            role="dialog"
            data-backdrop="false"
            data-keyboard="false"
    >
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Kaart delen</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>
                        Gebruik onderstaande link om het geselecteerde te delen met anderen.
                    </p>
                    <div class="form-group">
                        <div class="input-group">
                            <input
                                    type="text"
                                    class="form-control"
                                    id="shareUrlModalInput"
                                    readonly
                                    onClick="this.select()"
                            >

                            <div class="input-group-append">
                                <button
                                        type="button"
                                        class="btn btn-outline-secondary"
                                        id="shareUrlModalCopy"
                                >
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="align-baseline bi bi-clipboard-plus" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M8 7a.5.5 0 0 1 .5.5V9H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V10H6a.5.5 0 0 1 0-1h1.5V7.5A.5.5 0 0 1 8 7z"/>
                                        <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
                                        <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Ok</button>
                </div>
            </div>
        </div>
    </div>

    <div
            id="infoModal"
            class="modal"
            tabindex="-1"
            role="dialog"
            data-backdrop="false"
            data-keyboard="false"
    >
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Kaartenmaker</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Welkom op kaartenmaker, hier kun je topografische kaarten genereren in verschillende schalen (1:25.000, 1:50.000, etc.) van Nederland en Rheinland-Pfalz. Als je de PDF downloadt en print op 100%/ware grootte, zal de resulterende uitdraai precies op schaal zijn.</p>

                    <h4 class="underline">Kaartbronnen</h4>
                    <p>Er wordt gebruik gemaakt van verschillende kaartbronnen.</p>
                    <ul>
                        <li><a href="https://www.pdok.nl/geo-services/-/article/dataset-basisregistratie-topografie-brt-topraster" target="_blank">TOPRaster</a>, de topografische kaarten van Kadaster Nederland. Gebruik onder CC-BY 4.0 licentie.</li>
                        <li><a href="https://www.opentopo.nl/" target="_blank">OpenTopo</a>, een uitgebreidere topografische kaart van Nederland. Gebruik onder CC-BY licentie. Kan in deze applicatie alleen via <a href="https://www.pdok.nl/geo-services/-/article/opentopo" target="_blank">WMTS</a> gebruikt worden, dit betekent een iets lagere kwaliteit op papier.</li>
                        <li><a href="https://lvermgeo.rlp.de/de/geodaten/opendata/" target="_blank">DTK Rheinland-Pfalz</a>, topografische kaarten van de duitse staat Rheinland-Pfalz. Gebruik onder dl-de/by-2-0 licentie.</li>
                        <li>De werkkaart maakt gebruik van <a href="https://www.openstreetmap.org/" target="_blank">Open street map</a>.</li>
                    </ul>

                    <h4 class="underline">Functionaliteit</h4>
                    <h5>Hoofdmenu</h5>
                    <p>In het hoofdmenu linksboven zijn vijf (groepen van) knoppen te vinden. Klik op de plus (+, eerste knop) om een kaartuitsnede toe te voegen aan de werkruimte, of op het pijltje om een specifiek soort kaartuitsnede (of sjabloon) toe te voegen. Met de tweede groep knoppen kun je acties ongedaan maken en opnieuw uitvoeren. Met de deel-knop kun je de huidige werkruimte delen met anderen. De bladwijzer-knop biedt in een dropdown functionaliteit om de huidige werkruimte op te slaan en later weer te openen. Onder de laatste knop vallen enkele extra functionaliteiten.</p>
                    <h5>Kaartuitsnede overzicht</h5>
                    <p>Onder het hoofdmenu vind je een overzicht van kaartuitsnedes. Dit overzicht is in te klappen door in de bovenste rand te klikken. Per kaartuitsnede vind je knoppen om (in volgorde):</p>
                    <ul>
                        <li>De uitsnede te verbergen</li>
                        <li>Het instellingen scherm voor de uitsnede te openen</li>
                        <li>De uitsnede af te drukken naar PDF</li>
                        <li>
                            Een dropdown te openen, met knoppen om:
                            <ul>
                                <li>De uitsnede te dupliceren</li>
                                <li>De uitsnede op te slaan als sjabloon (verschijnt onder '+'-knop)</li>
                                <li>De uitsnede te delen met anderen</li>
                                <li>De legenda voor de uitsnede te downloaden (opent een externe URL in een nieuw tabblad)</li>
                                <li>De uitsnede te verwijderen</li>
                            </ul>
                        </li>
                    </ul>
                    <h5>Werkkaart</h5>
                    <p>Kaartuitsnedes zijn te verplaatsen op de werkkaart door deze met de muis te slepen. Als je een kaartuitsnede dicht bij een andere uitsnede sleept, zal de slepende uitsnede vastplakken aan de andere uitsnede, om een naadloze aansluiting te creëren. Houdt <code>ctrl</code> ingedrukt om het vastplakken uit te schakelen. Houdt <code>alt</code> ingedrukt om niet een kaartuitsnede maar de onderliggende werkkaart te verplaatsen. Klik met de rechtermuisknop op een kaartuitsnede om een context-menu te openen. Zodra je op een willekeurig punt op de werkkaart klikt, verschijnen onderaan de coördinaten van het geselecteerde punt.</p>

                    <h5>De kaartuitsnede op de werkkaart lijkt scheef te staan, hoort dat?</h5>
                    <p>De werkkaart en de kaartuitsnedes gebruiken verschillende kaartprojecties, waardoor deze niet recht zijn ten opzichte van elkaar. Je kunt ook zeggen, deze twee kaarten gebruiken andere <a href="https://nl.wikipedia.org/wiki/Kaartnoorden" target="_blank">kaartnoordes</a>. De kaartuitsnede-vlakken op de werkkaart geven exact aan welk gebied op de PDF terecht zal komen. Tip: open een Kadaster NL kaart met schaal 1:1.000.000 om een idee te krijgen van de hier genoemde vertekening.</p>

                    <h4 class="underline">Werking</h4>
                    <p>Deze applicatie bouwt kaarten op basis van WMS en WMTS bronnen. Zowel het opstellen als het genereren van de kaarten wordt geheel gedaan in de browser, dit betekent dat de snelheid van het genereren van de kaart met name afhankelijk is van de snelheid van je eigen browser/apparaat en internet. Gedownloade kaartstukken worden 1 dag in de browser gebufferd zodat opvolgende kaart-downloads significant sneller zijn.</p>

                    <h4 class="underline">Software-bibliotheken</h4>
                    <p>Voor de bouw van deze applicatie wordt gebruik gemaakt van de volgende technologieën:</p>
                    <ul>
                        <li>De werkkaart wordt gebouwd met <a href="http://leafletjs.com/" target="_blank">Leaflet</a>, met kaartdata van <a href="http://www.openstreetmap.org/copyright" target="_blank">Open street map</a>.</li>
                        <li>De PDF kaart wordt opgebouwd met behulp van <a href="https://github.com/MrRio/jsPDF" target="_blank">jsPDF</a>.</li>
                        <li>Verder wordt er nog onder andere gebruik gemaakt van <a href="https://www.typescriptlang.org/" target="_blank">TypeScript</a>, <a href="https://vuejs.org/" target="_blank">Vue.js</a>, <a href="https://getbootstrap.com/" target="_blank">Bootstrap</a> (<a href="https://icons.getbootstrap.com/" target="_blank">icons</a>) en <a href="https://jquery.com/" target="_blank">jQuery</a>.</li>
                    </ul>

                    <p>De ontwikkeling van deze applicatie kan worden gevolgd op <a href="https://github.com/marcovo" target="_blank">de Github-pagina</a>. Eventuele fouten of functionaliteitsverzoeken kunnen daar worden ingezonden.</p>

                    <h4 class="underline">Privacyverklaring</h4>
                    <p>Deze applicatie werkt geheel in je eigen browser - voor de werking worden er geen gegevens expliciet op een server vastgelegd. IP adressen kunnen op de webserver worden opgeslagen in een toegangslogboek. Er worden geen cookies gebruikt. Eventueel kan er (met toestemming) data op de webserver worden vastgelegd ter behoeve van statistieken ter verbetering van de applicatie (zie 'Statistieken').</p>
                    <p>Er worden geen persoonsgegevens verwerkt. Er kunnen coördinaten worden opgeslagen bij het gebruik van sjablonen, opgeslagen werkruimtes en deel-links. Ook worden bij het downloaden van een kaartuitsnede de gedownloade kaartstukken in een lokale buffer opgeslagen. Deze gegevens worden lokaal opgeslagen in de opslag van de browser en worden dus niet extern opgeslagen. Deze opgeslagen gegevens worden niet voorzien van extra beveiligingsmaatregelen. Opgeslagen gegevens kunnen ten alle tijde worden verwijderd met de functies 'Buffers legen' en 'Voorkeuren wissen', of door de browser de gegevens te laten wissen.</p>
                    <p>De gepresenteerde kaartdata wordt gedownload van hierboven aangegeven externe bronnen. Bezoek voor de privacyverkaringen van deze bronnen de hierboven opgenomen links.</p>

                    <h4 class="underline">Statistieken</h4>
                    <div class="form-group">
                        <div class="form-check">
                            <input class="form-check-input" id="participate_statistics" type="checkbox" value="1" />
                            <label class="form-check-label" for="participate_statistics">Ik sta toe dat de applicatie anonieme informatie over kaart downloads naar de webserver stuurt en daar opslaat. Deze gegevens worden opgestuurd op het moment van het downloaden van een kaartuitsnede, en bestaat uit de volledige configuratie van deze kaartuitsnede, exclusief de coördinaten (/locatie) van het te downloaden kaartuitsnede. Deze statistieken worden alleen gebruikt ter verbetering van de applicatie.</label>
                        </div>
                    </div>

                    <h4 class="underline">Niet gevonden wat je zoekt?</h4>
                    <p>Geen enkele applicatie werkt perfect voor iedereen. Hieronder vindt je een aantal alternatieven en aanvullingen op deze applicatie.</p>
                    <ul>
                        <li><a href="https://scoutingtools.nl/" target="_blank">scoutingtools.nl</a> biedt soortgelijke functionaliteit, met een geheel andere technische implementatie.</li>
                        <li><a href="https://www.gpscoordinaten.nl/converteer-gps-coordinaten.php" target="_blank">gpscoordinaten.nl</a> biedt functionaliteit om GPS coördinaten om te zetten naar rijksdriehoekscoördinaten en vice versa.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div
            id="statisticsParticipationModal"
            class="modal"
            tabindex="-1"
            role="dialog"
            data-backdrop="false"
            data-keyboard="false"
    >
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Statistieken</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Om de werking en functionaliteiten van deze applicatie te kunnen verbeteren, is het handig om te weten hoe de applicatie zoal gebruikt wordt. Je kunt hieraan meehelpen door te delen hoe jij de applicatie gebruikt, door middel van anonieme statistieken.</p>

                    <p>Wil je toestaan dat de applicatie anonieme informatie over kaart downloads naar de webserver stuurt en daar opslaat? Deze statistieken worden alleen gebruikt ter verbetering van de applicatie. Deze gegevens worden opgestuurd op het moment van het downloaden van een kaartuitsnede, en bestaan uit:</p>
                    <ul>
                        <li>de volledige configuratie van deze kaartuitsnede</li>
                        <li><b>behalve</b> de coördinaten (/locatie) van het te downloaden kaartuitsnede, deze worden niet opgeslagen.</li>
                    </ul>

                    <p>Deze instelling is later ook nog aan te passen in het informatie-venster 'Over'.</p>
                </div>
                <div class="modal-footer">
                    <div class="d-flex w-100 justify-content-between">
                        <button type="button" class="btn btn-secondary" id="statisticsParticipationModalNo">Nee, deel geen statistieken</button>
                        <button type="button" class="btn btn-primary" id="statisticsParticipationModalYes">Ja, help de applicatie</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div
            id="errorModal"
            class="modal"
            tabindex="-1"
            role="dialog"
            data-backdrop="false"
            data-keyboard="false"
    >
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Oeps, er ging iets mis</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Er is helaas iets misgegaan. Hieronder vind je de fout-log, als je deze opstuurt kunnen we kijken wat er mis ging.</p>

                    <div class="form-group">
                        <label for="errorModalDescription">Wil je nog een beschrijving toevoegen wat je deed voordat de fout optrad?</label>
                        <textarea class="form-control" rows="4" id="errorModalDescription" placeholder="Elk beetje extra informatie kan helpen..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="errorModalErrorLog">Op te sturen fout log</label>
                        <textarea class="form-control" rows="4" disabled id="errorModalErrorLog"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="errorModalSubmit">Stuur foutrapport</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
